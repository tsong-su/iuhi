<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>郵票拖曳遊戲</title>
  <style>
    body {
      background-color: #fdf6e3; /* 淺米白背景 */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #game-container {
      position: relative;
      width: 800px;
      height: 600px;
      border: 2px solid #ccc;
      background: url('game4_assets/north_map.png') no-repeat center/contain;
    }
    .dropzone {
      position: absolute;
      width: 80px;
      height: 80px;
      border: 2px dashed rgba(0,0,0,0.3);
    }
    .stamp {
      width: 80px;
      height: 80px;
      cursor: grab;
      position: absolute;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <!-- 格子（位置依照答案圖 north_answer.png 設定） -->
    <div class="dropzone" id="zone1" style="top:100px; left:150px;"></div>
    <div class="dropzone" id="zone2" style="top:200px; left:300px;"></div>
    <div class="dropzone" id="zone3" style="top:350px; left:500px;"></div>

    <!-- 郵票（初始散布在下方） -->
    <img src="game4_assets/stamp1.jpg" id="stamp1" class="stamp" style="top:500px; left:50px;" draggable="true">
    <img src="game4_assets/stamp2.jpg" id="stamp2" class="stamp" style="top:500px; left:150px;" draggable="true">
    <img src="game4_assets/stamp3.jpg" id="stamp3" class="stamp" style="top:500px; left:250px;" draggable="true">
  </div>

  <audio id="correctSound" src="game4_assets/correct.mp3"></audio>
  <audio id="wrongSound" src="game4_assets/wrong.mp3"></audio>

  <script>
    const correctMatches = {
      stamp1: "zone1",
      stamp2: "zone2",
      stamp3: "zone3"
    };

    const stamps = document.querySelectorAll(".stamp");
    const zones = document.querySelectorAll(".dropzone");
    let dragged = null;

    stamps.forEach(stamp => {
      stamp.addEventListener("dragstart", e => {
        dragged = stamp;
      });
    });

    zones.forEach(zone => {
      zone.addEventListener("dragover", e => {
        e.preventDefault();
      });

      zone.addEventListener("drop", e => {
        e.preventDefault();
        if (correctMatches[dragged.id] === zone.id) {
          // 對了 → 吸附到正確格子
          dragged.style.top = zone.style.top;
          dragged.style.left = zone.style.left;
          document.getElementById("correctSound").play();
        } else {
          // 錯了 → 播放錯誤音效
          document.getElementById("wrongSound").play();
        }
      });
    });
  </script>
</body>
</html>
