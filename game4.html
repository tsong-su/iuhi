<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å°ç£åŒ—éƒ¨åœ°å€æ³¨éŸ³ç¬¦è™Ÿéƒµç¥¨é…å°éŠæˆ²</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background-color: #f0f0f0;
    }
    #game-container {
      position: relative;
      width: 100%;
      height: 100vh;
      background-image: url('https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/x5m7aorrY8G4WkAV');
      background-size: cover;
      background-position: center;
    }
    .stamp {
      width: 80px;
      height: 80px;
      cursor: grab;
      position: absolute;
    }
    .dropzone {
      position: absolute;
      width: 80px;
      height: 80px;
      border: 2px dashed transparent;
    }
    .dropzone.correct {
      border-color: green;
    }
    #stamp-container {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
    }
    #stamp-container img {
      width: 60px;
      height: 60px;
      margin: 5px;
      cursor: grab;
    }
    #scoreboard {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: rgba(255,255,255,0.7);
      padding: 10px;
      border-radius: 5px;
      font-size: 16px;
    }
    #reset-btn, #home-btn {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 5px;
    }
    #home-btn {
      bottom: 70px;
      background-color: #28a745;
    }
    #reset-btn:hover { background-color: #0056b3; }
    #home-btn:hover { background-color: #1e7e34; }
  </style>
</head>
<body>
  <div id="game-container">
    <div id="stamp-container"></div>
    <div id="scoreboard">
      <p>å·²å®Œæˆï¼š<span id="completed-count">0</span>/12</p>
      <p>å‰©é¤˜æ™‚é–“ï¼š<span id="timer">05:00</span></p>
    </div>
    <button id="reset-btn">é‡æ–°é–‹å§‹</button>
    <button id="home-btn" onclick="location.href='https://tsong-su.github.io/iuhi/index.html'">å›åˆ°éŠæˆ²é¦–é </button>
  </div>

  <script>
    const stampsData = [
      { id: 'stamp1', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/94PGWnnnmDnoWLRV' },
      { id: 'stamp2', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/BJkrQAjjEoNOZEge' },
      { id: 'stamp3', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/R7dXad66mw2yZ6bl' },
      { id: 'stamp4', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/Xb8YaL11EGMXQyn1' },
      { id: 'stamp5', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/LNV1Q7ddRM1PZmq3' },
      { id: 'stamp6', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/kxodWG11EjDJQgP7' },
      { id: 'stamp7', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/94PGWnnnmqrrWLRV' },
      { id: 'stamp8', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/L8KjW9PPeyjVZJbv' },
      { id: 'stamp9', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/mlNDZ3yyVGmyaznG' },
      { id: 'stamp10', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/1xkVaqggmjjgZl0e' },
      { id: 'stamp11', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/R7dXad66mpXDZ6bl' },
      { id: 'stamp12', src: 'https://padlet.com/amber0958526275_1/padlet-cni285ctg1fqaapk/wish/MbejW177r9pyQNkG' }
    ];

    const dropzonesData = [
      { id: 'drop1', left: '18%', top: '12%', stampId: 'stamp1' },
      { id: 'drop2', left: '38%', top: '15%', stampId: 'stamp2' },
      { id: 'drop3', left: '58%', top: '18%', stampId: 'stamp3' },
      { id: 'drop4', left: '28%', top: '32%', stampId: 'stamp4' },
      { id: 'drop5', left: '48%', top: '36%', stampId: 'stamp5' },
      { id: 'drop6', left: '68%', top: '40%', stampId: 'stamp6' },
      { id: 'drop7', left: '22%', top: '52%', stampId: 'stamp7' },
      { id: 'drop8', left: '42%', top: '56%', stampId: 'stamp8' },
      { id: 'drop9', left: '62%', top: '60%', stampId: 'stamp9' },
      { id: 'drop10', left: '32%', top: '72%', stampId: 'stamp10' },
      { id: 'drop11', left: '52%', top: '76%', stampId: 'stamp11' },
      { id: 'drop12', left: '72%', top: '80%', stampId: 'stamp12' }
    ];

    const stampContainer = document.getElementById('stamp-container');
    const gameContainer = document.getElementById('game-container');
    const completedCountElem = document.getElementById('completed-count');
    let completedCount = 0;

    function createStamps() {
      stampContainer.innerHTML = '';
      stampsData.forEach(stamp => {
        const img = document.createElement('img');
        img.src = stamp.src;
        img.id = stamp.id;
        img.className = 'stamp';
        img.draggable = true;
        img.addEventListener('dragstart', e => {
          e.dataTransfer.setData('text/plain', e.target.id);
        });
        stampContainer.appendChild(img);
      });
    }

    function createDropzones() {
      dropzonesData.forEach(dz => {
        const div = document.createElement('div');
        div.id = dz.id;
        div.className = 'dropzone';
        div.style.left = dz.left;
        div.style.top = dz.top;
        div.dataset.stampId = dz.stampId;

        div.addEventListener('dragover', e => e.preventDefault());
        div.addEventListener('drop', e => {
          e.preventDefault();
          const stampId = e.dataTransfer.getData('text/plain');
          if (stampId === dz.stampId) {
            const stamp = document.getElementById(stampId);
            div.appendChild(stamp);
            stamp.style.position = 'absolute';
            stamp.style.left = '0';
            stamp.style.top = '0';
            stamp.draggable = false;
            div.classList.add('correct');
            completedCount++;
            completedCountElem.textContent = completedCount;
            if (completedCount === 12) alert('ğŸ‰ æ­å–œå®Œæˆæ‹¼åœ–ï¼');
          } else {
            alert('æ”¾éŒ¯ä½ç½®å›‰ï¼');
          }
        });
        gameContainer.appendChild(div);
      });
    }

    function resetGame() {
      completedCount = 0;
      completedCountElem.textContent = completedCount;
      const oldDropzones = document.querySelectorAll('.dropzone');
      oldDropzones.forEach(d => d.remove());
      createDropzones();
      createStamps();
    }

    document.getElementById('reset-btn').addEventListener('click', resetGame);

    // åˆå§‹åŒ–
    resetGame();
  </script>
</body>
</html>
