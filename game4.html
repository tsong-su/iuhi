<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>台灣北部地區郵票配對遊戲</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background-color: #fdfaf5; /* 淺米白 */
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 20px;
      color: #333;
    }
    .map-container {
      position: relative;
      width: 900px;
      height: 600px;
      background: url("game4_assets/north_map.jpg") no-repeat center/contain;
      border: 2px solid #ccc;
    }
    .dropzone {
      position: absolute;
      width: 100px;
      height: 100px;
      border: 2px dashed transparent;
    }
    .dropzone.hovered {
      border: 2px dashed #ff6600;
      background-color: rgba(255, 165, 0, 0.2);
    }
    .stamp {
      position: absolute;
      width: 80px;
      cursor: grab;
    }
    #home-btn {
      margin: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #ffcc66;
      cursor: pointer;
    }
    #home-btn:hover {
      background-color: #ffb84d;
    }
  </style>
</head>
<body>
  <h1>台灣北部地區郵票配對遊戲</h1>
  <div class="map-container" id="map">
    <!-- 12 個投放區 -->
    <div class="dropzone" id="zone1" data-stamp="stamp1" style="top:100px; left:120px;"></div>
    <div class="dropzone" id="zone2" data-stamp="stamp2" style="top:200px; left:250px;"></div>
    <div class="dropzone" id="zone3" data-stamp="stamp3" style="top:150px; left:400px;"></div>
    <div class="dropzone" id="zone4" data-stamp="stamp4" style="top:300px; left:500px;"></div>
    <div class="dropzone" id="zone5" data-stamp="stamp5" style="top:350px; left:200px;"></div>
    <div class="dropzone" id="zone6" data-stamp="stamp6" style="top:250px; left:700px;"></div>
    <div class="dropzone" id="zone7" data-stamp="stamp7" style="top:100px; left:600px;"></div>
    <div class="dropzone" id="zone8" data-stamp="stamp8" style="top:400px; left:350px;"></div>
    <div class="dropzone" id="zone9" data-stamp="stamp9" style="top:450px; left:600px;"></div>
    <div class="dropzone" id="zone10" data-stamp="stamp10" style="top:500px; left:150px;"></div>
    <div class="dropzone" id="zone11" data-stamp="stamp11" style="top:200px; left:800px;"></div>
    <div class="dropzone" id="zone12" data-stamp="stamp12" style="top:50px; left:300px;"></div>
    
    <!-- 12 張郵票（散布） -->
    <img src="game4_assets/stamp1.jpg" id="stamp1" class="stamp" style="top:30px; left:20px;" draggable="true">
    <img src="game4_assets/stamp2.jpg" id="stamp2" class="stamp" style="top:500px; left:50px;" draggable="true">
    <img src="game4_assets/stamp3.jpg" id="stamp3" class="stamp" style="top:30px; left:750px;" draggable="true">
    <img src="game4_assets/stamp4.jpg" id="stamp4" class="stamp" style="top:550px; left:820px;" draggable="true">
    <img src="game4_assets/stamp5.jpg" id="stamp5" class="stamp" style="top:300px; left:20px;" draggable="true">
    <img src="game4_assets/stamp6.jpg" id="stamp6" class="stamp" style="top:400px; left:850px;" draggable="true">
    <img src="game4_assets/stamp7.jpg" id="stamp7" class="stamp" style="top:30px; left:500px;" draggable="true">
    <img src="game4_assets/stamp8.jpg" id="stamp8" class="stamp" style="top:550px; left:400px;" draggable="true">
    <img src="game4_assets/stamp9.jpg" id="stamp9" class="stamp" style="top:200px; left:850px;" draggable="true">
    <img src="game4_assets/stamp10.jpg" id="stamp10" class="stamp" style="top:100px; left:50px;" draggable="true">
    <img src="game4_assets/stamp11.jpg" id="stamp11" class="stamp" style="top:450px; left:250px;" draggable="true">
    <img src="game4_assets/stamp12.jpg" id="stamp12" class="stamp" style="top:320px; left:700px;" draggable="true">
  </div>

  <button id="home-btn" onclick="location.href='index.html'">回到遊戲首頁</button>

  <!-- 音效 -->
  <audio id="wrong-sound" src="game4_assets/wrong.mp3"></audio>
  <audio id="sound-stamp1" src="game4_assets/stamp1.mp3"></audio>
  <audio id="sound-stamp2" src="game4_assets/stamp2.mp3"></audio>
  <audio id="sound-stamp3" src="game4_assets/stamp3.mp3"></audio>
  <audio id="sound-stamp4" src="game4_assets/stamp4.mp3"></audio>
  <audio id="sound-stamp5" src="game4_assets/stamp5.mp3"></audio>
  <audio id="sound-stamp6" src="game4_assets/stamp6.mp3"></audio>
  <audio id="sound-stamp7" src="game4_assets/stamp7.mp3"></audio>
  <audio id="sound-stamp8" src="game4_assets/stamp8.mp3"></audio>
  <audio id="sound-stamp9" src="game4_assets/stamp9.mp3"></audio>
  <audio id="sound-stamp10" src="game4_assets/stamp10.mp3"></audio>
  <audio id="sound-stamp11" src="game4_assets/stamp11.mp3"></audio>
  <audio id="sound-stamp12" src="game4_assets/stamp12.mp3"></audio>

  <script>
    const stamps = document.querySelectorAll('.stamp');
    const zones = document.querySelectorAll('.dropzone');
    const wrongSound = document.getElementById("wrong-sound");

    let dragged = null;

    stamps.forEach(stamp => {
      stamp.addEventListener("dragstart", e => {
        dragged = stamp;
        setTimeout(() => stamp.style.display = "none", 0);
      });
      stamp.addEventListener("dragend", e => {
        dragged.style.display = "block";
        dragged = null;
      });
    });

    zones.forEach(zone => {
      zone.addEventListener("dragover", e => {
        e.preventDefault();
        zone.classList.add("hovered");
      });
      zone.addEventListener("dragleave", e => {
        zone.classList.remove("hovered");
      });
      zone.addEventListener("drop", e => {
        zone.classList.remove("hovered");
        if (dragged && dragged.id === zone.dataset.stamp) {
          zone.appendChild(dragged);
          dragged.style.position = "static";
          document.getElementById("sound-" + dragged.id).play();
        } else {
          wrongSound.play();
        }
      });
    });
  </script>
</body>
</html>
