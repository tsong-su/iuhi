<script>
// === 郵票載入 ===
const stampsContainer = document.getElementById("stamps-container");
const totalStamps = 12;

function createStamps() {
  stampsContainer.innerHTML = "";

  const stampSize = 80;   // 固定大小，與紅框一致
  const margin = 15;      // 郵票間距

  for (let i = 1; i <= totalStamps; i++) {
    const img = document.createElement("img");
    img.src = `game4_assets/stamp${i}.jpg`;
    img.className = "stamp";
    img.dataset.index = i;
    img.draggable = true;
    img.style.position = "absolute";
    img.style.width = stampSize + "px";
    img.style.height = stampSize + "px";

    // === 計算左右位置 ===
    const isLeft = i <= 6;
    const col = (i - 1) % 3; // 0,1,2
    const row = Math.floor(((i - 1) % 6) / 3); // 0 或 1

    const xBase = isLeft ? 20 : window.innerWidth - (stampSize * 3 + margin * 2) - 20;
    const yBase = window.innerHeight / 2 - (stampSize * 2 + margin) / 2;

    const x = xBase + col * (stampSize + margin);
    const y = yBase + row * (stampSize + margin);

    img.style.left = `${x}px`;
    img.style.top = `${y}px`;

    stampsContainer.appendChild(img);

    // === 拖曳事件 ===
    img.addEventListener("dragstart", dragStart);
    img.addEventListener("dragend", dragEnd);
  }
}

// === 拖曳 ===
let dragged = null;
function dragStart(e) {
  dragged = e.target;
  e.dataTransfer.setData("text/plain", e.target.dataset.index);
}
function dragEnd() {
  dragged = null;
}

createStamps();
</script>
