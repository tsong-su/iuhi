<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>台灣北部地圖遊戲</title>
<style>
  body {
    margin: 0;
    background: #f5f5f5;
    overflow: hidden; /* 避免捲軸 */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #game-wrapper {
    transform-origin: top center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #game-area {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
  }

  #map-container {
    position: relative;
    width: 1056px; /* 固定縮小後大小 */
    height: 849px;
  }

  #map {
    width: 100%;
    height: 100%;
    display: block;
  }

  #red-frames {
    position: absolute;
    top: 0;
    left: 0;
  }

  .red-frame {
    position: absolute;
    width: 60px;
    height: 60px;
    border: 2px solid red;
    box-sizing: border-box;
  }

  .stamps {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .stamp {
    width: 80px;  /* 固定大小 */
    height: auto;
    cursor: grab;
  }

  #controls {
    margin-top: 15px;
  }

  #controls button {
    padding: 8px 16px;
    border-radius: 6px;
    border: none;
    background-color: #4CAF50;
    color: white;
    cursor: pointer;
  }

  #controls button:hover {
    background-color: #45a049;
  }
</style>
</head>
<body>
  <div id="game-wrapper">
    <h2>台灣北部地圖&注音符號郵票配對遊戲</h2>
    <div id="game-area">
      <div class="stamps" id="stamps-left">
        <img src="game4_assets/stamp1.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp2.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp3.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp4.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp5.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp6.jpg" class="stamp" draggable="true">
      </div>

      <div id="map-container">
        <img id="map" src="north2_map.png" alt="地圖">
        <div id="red-frames"></div>
      </div>

      <div class="stamps" id="stamps-right">
        <img src="game4_assets/stamp7.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp8.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp9.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp10.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp11.jpg" class="stamp" draggable="true">
        <img src="game4_assets/stamp12.jpg" class="stamp" draggable="true">
      </div>
    </div>

    <div id="controls">
      <button onclick="location.href='index.html'">回到遊戲首頁</button>
    </div>
  </div>

<script>
  const redFramePositions = [
    {x: 520, y: 120}, {x: 580, y: 200}, {x: 480, y: 300},
    {x: 640, y: 250}, {x: 700, y: 400}, {x: 400, y: 500},
    {x: 550, y: 550}, {x: 600, y: 600}, {x: 300, y: 650},
    {x: 450, y: 700}, {x: 700, y: 750}, {x: 800, y: 800}
  ];

  function renderRedFrames() {
    const redFrames = document.getElementById('red-frames');
    redFrames.innerHTML = "";
    redFramePositions.forEach(pos => {
      const frame = document.createElement('div');
      frame.className = 'red-frame';
      frame.style.left = pos.x + "px";
      frame.style.top = pos.y + "px";
      redFrames.appendChild(frame);
    });
  }

  function resizeGame() {
    const wrapper = document.getElementById('game-wrapper');
    const scaleX = window.innerWidth / wrapper.offsetWidth;
    const scaleY = window.innerHeight / wrapper.offsetHeight;
    const scale = Math.min(scaleX, scaleY, 1); // 不放大，只縮小
    wrapper.style.transform = `scale(${scale})`;
  }

  window.addEventListener('resize', resizeGame);
  window.addEventListener('load', () => {
    renderRedFrames();
    resizeGame();
  });
</script>
</body>
</html>
