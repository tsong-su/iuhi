<script>
  const gameContainer = document.getElementById("game-container");
  const map = document.getElementById("map");

  const frames = [];
  const coords = [
    [0.3,0.3],[0.5,0.3],[0.7,0.3],
    [0.3,0.5],[0.5,0.5],[0.7,0.5],
    [0.3,0.7],[0.5,0.7],[0.7,0.7],
    [0.4,0.9],[0.6,0.9],[0.8,0.9]
  ];

  map.onload = () => {
    coords.forEach(([x,y])=>{
      const frame=document.createElement("div");
      frame.className="frame";
      frame.style.left = `${x*map.width}px`;
      frame.style.top = `${y*map.height}px`;
      gameContainer.appendChild(frame);
      frames.push(frame);
    });

    // === 放置郵票 ===
    const rect = map.getBoundingClientRect();
    const mapLeft = rect.left;
    const mapRight = rect.right;
    const mapTop = rect.top;
    const mapHeight = rect.height;

    const spacingX_left = 120;   // 左側水平間距
    const spacingX_right = 140;  // 右側水平間距
    const spacingY = 100;        // 垂直間距
    const rows = 2;              // 兩排
    const cols = 3;              // 三列
    const buffer = 20;           // 最小保護距離

    // === 垂直置中，並保證上下留 buffer ===
    const totalHeight = (rows - 1) * spacingY;
    const startY = Math.max(
      mapTop + buffer, 
      mapTop + (mapHeight - totalHeight) / 2
    );

    for(let i=1;i<=12;i++){
      const img=document.createElement("img");
      img.src=`game4_assets/stamp${i}.jpg`;
      img.className="stamp";

      const col = (i-1) % cols;
      const row = Math.floor(((i-1) % 6) / cols);

      if(i <= 6){
        // 左側 6 張
        img.style.left = `${mapLeft - spacingX_left*(3-col) - buffer}px`;
        img.style.top = `${startY + row*spacingY}px`;
      } else {
        // 右側 6 張
        img.style.left = `${mapRight + spacingX_right*col + buffer}px`;
        img.style.top = `${startY + row*spacingY}px`;
      }

      gameContainer.appendChild(img);
    }
  };

  function goHome(){
    window.location.href="index.html";
  }
</script>
