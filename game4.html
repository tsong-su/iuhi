<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>北部地區郵票拖曳遊戲</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Microsoft JhengHei", sans-serif;
      background-color: #fdfaf3; /* 淺米白 */
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 20px;
      color: #333;
    }
    .map-container {
      position: relative;
      width: 800px;
      height: 600px;
      background: url("game4_assets/north_map.jpg") no-repeat center/contain;
      border: 2px solid #aaa;
      margin-bottom: 20px;
    }
    .dropzone {
      position: absolute;
      width: 80px;
      height: 80px;
      border: 2px dashed transparent;
    }
    .stamp {
      position: absolute;
      width: 80px;
      cursor: grab;
      transition: transform 0.2s;
    }
    .stamp:active {
      cursor: grabbing;
      transform: scale(1.1);
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      background-color: #4CAF50;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <h1>北部地區郵票拖曳遊戲</h1>

  <div class="map-container" id="map">
    <!-- 投放區 (示例座標，依實際地圖可調整) -->
    <div class="dropzone" data-stamp="1" style="top:100px; left:200px;"></div>
    <div class="dropzone" data-stamp="2" style="top:150px; left:400px;"></div>
    <div class="dropzone" data-stamp="3" style="top:250px; left:600px;"></div>
    <div class="dropzone" data-stamp="4" style="top:350px; left:500px;"></div>
    <div class="dropzone" data-stamp="5" style="top:400px; left:300px;"></div>
    <div class="dropzone" data-stamp="6" style="top:200px; left:100px;"></div>
    <div class="dropzone" data-stamp="7" style="top:500px; left:200px;"></div>
    <div class="dropzone" data-stamp="8" style="top:450px; left:600px;"></div>
    <div class="dropzone" data-stamp="9" style="top:120px; left:550px;"></div>
    <div class="dropzone" data-stamp="10" style="top:300px; left:150px;"></div>
    <div class="dropzone" data-stamp="11" style="top:220px; left:700px;"></div>
    <div class="dropzone" data-stamp="12" style="top:380px; left:650px;"></div>

    <!-- 郵票 (隨機散佈在邊緣) -->
    <img src="game4_assets/stamp1.jpg" class="stamp" data-stamp="1" style="top:10px; left:50px;">
    <img src="game4_assets/stamp2.jpg" class="stamp" data-stamp="2" style="top:20px; left:750px;">
    <img src="game4_assets/stamp3.jpg" class="stamp" data-stamp="3" style="top:500px; left:30px;">
    <img src="game4_assets/stamp4.jpg" class="stamp" data-stamp="4" style="top:550px; left:720px;">
    <img src="game4_assets/stamp5.jpg" class="stamp" data-stamp="5" style="top:50px; left:300px;">
    <img src="game4_assets/stamp6.jpg" class="stamp" data-stamp="6" style="top:60px; left:600px;">
    <img src="game4_assets/stamp7.jpg" class="stamp" data-stamp="7" style="top:520px; left:400px;">
    <img src="game4_assets/stamp8.jpg" class="stamp" data-stamp="8" style="top:100px; left:700px;">
    <img src="game4_assets/stamp9.jpg" class="stamp" data-stamp="9" style="top:450px; left:100px;">
    <img src="game4_assets/stamp10.jpg" class="stamp" data-stamp="10" style="top:40px; left:450px;">
    <img src="game4_assets/stamp11.jpg" class="stamp" data-stamp="11" style="top:300px; left:20px;">
    <img src="game4_assets/stamp12.jpg" class="stamp" data-stamp="12" style="top:250px; left:760px;">
  </div>

  <button onclick="location.href='index.html'">回到遊戲首頁</button>

  <!-- 音效 -->
  <audio id="wrongSound" src="game4_assets/wrong.mp3"></audio>
  <audio id="stamp1Sound" src="game4_assets/stamp1.mp3"></audio>
  <audio id="stamp2Sound" src="game4_assets/stamp2.mp3"></audio>
  <audio id="stamp3Sound" src="game4_assets/stamp3.mp3"></audio>
  <audio id="stamp4Sound" src="game4_assets/stamp4.mp3"></audio>
  <audio id="stamp5Sound" src="game4_assets/stamp5.mp3"></audio>
  <audio id="stamp6Sound" src="game4_assets/stamp6.mp3"></audio>
  <audio id="stamp7Sound" src="game4_assets/stamp7.mp3"></audio>
  <audio id="stamp8Sound" src="game4_assets/stamp8.mp3"></audio>
  <audio id="stamp9Sound" src="game4_assets/stamp9.mp3"></audio>
  <audio id="stamp10Sound" src="game4_assets/stamp10.mp3"></audio>
  <audio id="stamp11Sound" src="game4_assets/stamp11.mp3"></audio>
  <audio id="stamp12Sound" src="game4_assets/stamp12.mp3"></audio>

  <script>
    const stamps = document.querySelectorAll('.stamp');
    const dropzones = document.querySelectorAll('.dropzone');
    const wrongSound = document.getElementById('wrongSound');

    let dragged = null;

    stamps.forEach(stamp => {
      stamp.addEventListener('dragstart', e => {
        dragged = stamp;
      });
      stamp.setAttribute("draggable", true);
    });

    dropzones.forEach(zone => {
      zone.addEventListener('dragover', e => {
        e.preventDefault();
      });
      zone.addEventListener('drop', e => {
        e.preventDefault();
        if (dragged && dragged.dataset.stamp === zone.dataset.stamp) {
          dragged.style.top = zone.style.top;
          dragged.style.left = zone.style.left;
          dragged.draggable = false;
          // 播放對應音效
          document.getElementById("stamp" + zone.dataset.stamp + "Sound").play();
        } else {
          wrongSound.play();
        }
      });
    });
  </script>
</body>
</html>
