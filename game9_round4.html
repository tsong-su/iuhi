<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æœå­åœ–ç‰‡&å°èªæœå­åé…å° ç¬¬å››å›</title>
<style>
  body {
    font-family: "Microsoft JhengHei", sans-serif;
    margin: 0;
    padding: 0;
    background: #fff8f0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 {
    margin-top: 10px;
    font-size: 1.4rem;
    text-align: center;
  }
  .note {
    font-size: 1rem;
    color: #d9534f;
    margin-bottom: 5px;
  }
  .grid-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-gap: 8px;
    width: 95%;
    max-width: 600px;
    margin-bottom: 10px;
  }
  .grid-item {
    background: #fefefe;
    border: 2px solid #ccc;
    border-radius: 8px;
    text-align: center;
    padding: 10px 5px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: all 0.3s;
    height: 80px;
  }
  .grid-item img {
    max-height: 50px;
    margin-bottom: 5px;
  }
  .matched {
    color: #fff;
    font-weight: bold;
  }
  .buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .buttons button {
    padding: 10px 15px;
    font-size: 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    color: #fff;
    background-color: #ff7f50;
    transition: all 0.2s;
  }
  .buttons button:hover {
    opacity: 0.8;
  }
  #victory {
    font-size: 2rem;
    color: #ff4500;
    font-weight: bold;
    display: none;
    margin-top: 15px;
    animation: popUp 0.6s ease forwards;
  }
  @keyframes popUp {
    0% { transform: scale(0.2); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
  }
</style>
</head>
<body>

<h1>æœå­åœ–ç‰‡ & å°èªæœå­åé…å° ç¬¬å››å›</h1>
<div class="note">ğŸ“± å»ºè­°ç›´å¼è§€çœ‹æ•ˆæœæœ€ä½³</div>

<div class="grid-container" id="grid"></div>

<div id="victory">æœ‰å¤ gau5ï¼</div>

<div class="buttons">
  <button onclick="restartGame()">é–£è€ä¸€æ“º</button>
  <button onclick="nextRound()">å¾Œä¸€å›</button>
  <button onclick="goHome()">è½‰å»éŠæˆ²é ­é </button>
</div>

<audio id="audio-correct"></audio>
<audio id="audio-wrong" src="game9_assets/wrong1.mp3"></audio>
<audio id="audio-victory" src="game9_assets/victory2.mp3"></audio>

<script>
const fruits = [
  {id:"fruit10", chinese:"æŸ³ä¸", taiwanese:"æŸ³ä¸", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/5/5078.mp3"},
  {id:"fruit11", chinese:"æœ¨ç“œ", taiwanese:"æœ¨ç“œ", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/0/877.mp3"},
  {id:"fruit12", chinese:"æ¢¨å­", taiwanese:"æ¢¨ä»”", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/7/7478.mp3"},
  {id:"fruit13", chinese:"æ£—å­", taiwanese:"æ£—ä»”", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/8/8491.mp3"},
  {id:"fruit14", chinese:"æŸšå­", taiwanese:"æŸšä»”", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/5/5085.mp3"},
  {id:"fruit16", chinese:"æŸ¿å­", taiwanese:"æŸ¿ä»”", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/5/5087.mp3"},
  {id:"fruit17", chinese:"è”æ", taiwanese:"è”æ", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/6/6646.mp3"},
  {id:"fruit34", chinese:"ç•ªèŒ„", taiwanese:"è‡­æŸ¿ä»”", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/subak/6/6575.mp3"}
];

// 8 ç¨®ä¸åŒåº•è‰²
const colors = ["#FFB6C1","#87CEFA","#98FB98","#FFD700","#FFA07A","#DA70D6","#40E0D0","#F08080"];

let selectedImage = null;
let selectedText = null;

function shuffle(array) {
  for (let i = array.length -1; i>0; i--){
    const j = Math.floor(Math.random()*(i+1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function setupGame() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";

  let items = [];

  fruits.forEach((fruit,index)=>{
    items.push({type:"img", ...fruit});
    items.push({type:"text", ...fruit});
  });

  shuffle(items);

  items.forEach((item, index)=>{
    const div = document.createElement("div");
    div.classList.add("grid-item");
    div.dataset.id = item.id;
    div.dataset.type = item.type;
    div.dataset.index = index;
    if(i
