<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <title>果子圖片 & 台語果子名配對 - 第4回</title>
  <style>
    body {
      font-family: "jf open 粉圓", "微軟正黑體", sans-serif;
      background: linear-gradient(to bottom right, #fff8e7, #ffe6cc);
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      background-color: #ffcc66;
      color: #663300;
      padding: 15px;
      margin: 0;
      font-size: 28px;
    }
    #game-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 30px;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    .column {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }
    .fruit {
      width: 120px;
      height: 120px;
      border: 2px solid #d2691e;
      border-radius: 15px;
      background-color: #fffaf0;
      background-size: cover;
      background-position: center;
      cursor: grab;
    }
    .word {
      width: 120px;
      padding: 10px;
      background-color: #fff;
      border: 2px solid #ff9966;
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      color: #cc6600;
    }
    .matched {
      background-color: #ffcc99 !important;
      opacity: 0.7;
      pointer-events: none;
    }
    #buttons {
      margin-top: 40px;
    }
    button {
      font-size: 18px;
      margin: 5px;
      padding: 10px 18px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      background-color: #ff9966;
      color: white;
      transition: 0.3s;
    }
    button:hover {
      background-color: #ff6600;
    }
  </style>
</head>
<body>
  <h1>果子圖片 & 台語果子名配對 - 第4回</h1>
  <div id="game-container">
    <div class="column" id="fruits">
      <div class="fruit" style="background-image: url('fruit19.png')" data-name="芒果"></div>
      <div class="fruit" style="background-image: url('fruit20.png')" data-name="蓮霧"></div>
      <div class="fruit" style="background-image: url('fruit21.png')" data-name="鳳梨"></div>
      <div class="fruit" style="background-image: url('fruit22.png')" data-name="甘蔗"></div>
    </div>
    <div class="column" id="words">
      <div class="word" data-name="鳳梨">ong-lâi（鳳梨）</div>
      <div class="word" data-name="甘蔗">kam-tsià（甘蔗）</div>
      <div class="word" data-name="芒果">báng-kó（芒果）</div>
      <div class="word" data-name="蓮霧">liân-bū（蓮霧）</div>
    </div>
  </div>

  <div id="buttons">
    <button onclick="window.location.href='game9_round3.html'">前一回</button>
    <button onclick="resetGame()">閣耍一擺</button>
    <button onclick="window.location.href='game9_fruit5.html'">後一回</button>
    <button onclick="window.location.href='game9.html'">轉去遊戲頭頁</button>
  </div>

  <script>
    let selectedFruit = null;
    const fruits = document.querySelectorAll('.fruit');
    const words = document.querySelectorAll('.word');

    fruits.forEach(fruit => {
      fruit.addEventListener('click', () => {
        if (fruit.classList.contains('matched')) return;
        selectedFruit = fruit;
        fruits.forEach(f => f.style.border = "2px solid #d2691e");
        fruit.style.border = "4px solid red";
      });
    });

    words.forEach(word => {
      word.addEventListener('click', () => {
        if (!selectedFruit || word.classList.contains('matched')) return;

        if (selectedFruit.dataset.name === word.dataset.name) {
          selectedFruit.classList.add('matched');
          word.classList.add('matched');
          selectedFruit.style.border = "2px solid #d2691e";
          selectedFruit = null;

          const allMatched = [...fruits].every(f => f.classList.contains('matched'));
          if (allMatched) {
            setTimeout(() => alert('👏 全部配對成功！'), 100);
          }
        } else {
          alert('未配對成功，閣試看覓～');
        }
      });
    });

    function resetGame() {
      fruits.forEach(f => f.classList.remove('matched'));
      words.forEach(w => w.classList.remove('matched'));
      fruits.forEach(f => f.style.border = "2px solid #d2691e");
      selectedFruit = null;
    }
  </script>
</body>
</html>
