<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>é«˜é›„å¸‚ 38 å€äº’å‹•åœ°åœ–</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #f5f5f5;
      overflow: hidden;
      font-family: "Noto Sans TC", sans-serif;
    }

    svg {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .district-label {
      text-anchor: middle;
      pointer-events: none;
    }

    .new-name {
      font-weight: 700;
      font-size: 14px;
      fill: #000000;
    }

    .old-name {
      font-weight: 400;
      font-size: 14px;
      fill: #3a4a5a;
    }

    .info-box {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255,255,255,0.95);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      padding: 20px;
      min-width: 260px;
      z-index: 1000;
      display: none;
      text-align: center;
    }

    .info-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .info-subtitle {
      font-size: 18px;
      color: #3a4a5a;
      margin-bottom: 12px;
    }

    .audio-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    .audio-btn {
      background-color: #ccc;
      color: #666;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 16px;
      cursor: not-allowed;
    }

    @media (orientation: portrait) {
      body {
        background-color: #ffffff;
      }
      .info-box {
        width: 80%;
        font-size: 16px;
      }
    }

    .map-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .note {
      position: fixed;
      bottom: 5px;
      width: 100%;
      text-align: center;
      color: #555;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="map-container">
    <object id="kaoMap" data="map_assets/Blank_Kaohsiung_map.svg" type="image/svg+xml"></object>
  </div>
  <div class="info-box" id="infoBox">
    <div class="info-title" id="newName"></div>
    <div class="info-subtitle" id="oldName"></div>
    <div class="audio-buttons">
      <button class="audio-btn">ğŸ”ˆ æ–°åœ°å</button>
      <button class="audio-btn">ğŸ”ˆ èˆŠåœ°å</button>
    </div>
  </div>
  <div class="note">ğŸ“± å»ºè­°ç›´å¼è§€çœ‹æ•ˆæœæœ€ä½³</div>

  <script>
    // å››ç¾¤è‰²ç³»è¨­å®š
    const colorGroups = {
      center: ["æ¥ æ¢“","å·¦ç‡Ÿ","é¼“å±±","ä¸‰æ°‘","é¹½åŸ•","å‰é‡‘","æ–°èˆˆ","è‹“é›…","æ——æ´¥","å‰é®","å°æ¸¯"],
      east: ["å¤§æ¨¹","å¤§å¯®","æ—åœ’","å¤§ç¤¾","ä»æ­¦","é³¥æ¾","é³³å±±"],
      north: ["èŒ„è£","æ°¸å®‰","å½Œé™€","æ¢“å®˜","æ¹–å…§","è·¯ç«¹","å²¡å±±","æ©‹é ­","é˜¿è“®","ç”°å¯®","ç‡•å·¢"],
      mountain: ["å…§é–€","æ——å±±","æ‰æ—","ç¾æ¿ƒ","ç”²ä»™","å…­é¾œ","é‚£ç‘ªå¤","æ¡ƒæº","èŒ‚æ—"]
    };

    const colors = {
      center: ["#ff8a65","#ff7043","#e64a19","#ffab91","#ff5722","#f4511e","#d84315","#bf360c","#ffccbc","#ffb74d","#ff9800"],
      east: ["#ce93d8","#ab47bc","#8e24aa","#ba68c8","#9c27b0","#7b1fa2","#6a1b9a"],
      north: ["#dce775","#cddc39","#9ccc65","#8bc34a","#afb42b","#7cb342","#c0ca33","#9e9d24","#aed581","#d4e157","#b9f6ca"],
      mountain: ["#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#26c6da"]
    };

    // æ–°èˆŠåœ°åå°ç…§
    const nameMap = {
      "æ¥ æ¢“": "æ¥ ä»”å‘",
      "å·¦ç‡Ÿ": "èˆˆéš†é‡Œ",
      "é¼“å±±": "æ‰“ç‹—å±±",
      "ä¸‰æ°‘": "ä¸‰å¡Šå",
      "é¹½åŸ•": "é¹½åŸ•åŸ”",
      "å‰é‡‘": "å‰è¡¿",
      "æ–°èˆˆ": "é€®æ¸¯åŸ”",
      "è‹“é›…": "ç¬­ä»”å¯®",
      "æ——æ´¥": "æ——å¾Œ",
      "å‰é®": "å‰é®",
      "å°æ¸¯": "æ¸¯ä»”å¢˜",
      "å¤§æ¨¹": "å¤§æ¨¹è·¤",
      "å¤§å¯®": "å¤§è—”",
      "æ—åœ’": "é ‚æ—ä»”é‚Š",
      "å¤§ç¤¾": "ä¸‰å¥¶å£‡",
      "ä»æ­¦": "ä»æ­¦é®",
      "é³¥æ¾": "é³¥æ¾è·¤",
      "é³³å±±": "ä¸‹åŸ¤é ­",
      "èŒ„è£": "èŒ„è‹³è£ä»”",
      "æ°¸å®‰": "çƒæ¨¹æ—",
      "å½Œé™€": "å½Œé™€æ¸¯",
      "æ¢“å®˜": "æ¢“å®˜",
      "æ¹–å…§": "å¤§æ¹–",
      "è·¯ç«¹": "åŠè·¯ç«¹",
      "å²¡å±±": "é˜¿å…¬åº—",
      "æ©‹é ­": "æ©‹ä»”é ­",
      "é˜¿è“®": "é˜¿å—¹ç¤¾",
      "ç”°å¯®": "ç”°è—”",
      "ç‡•å·¢": "æ´å‰¿å³",
      "å…§é–€": "ç¾…æ¼¢å…§é–€",
      "æ——å±±": "è•ƒè–¯è—”",
      "æ‰æ—": "æ¥ æ¢“ä»™",
      "ç¾æ¿ƒ": "ç€°æ¿ƒ",
      "ç”²ä»™": "é˜¿é‡Œé—œ",
      "å…­é¾œ": "å…­é¾œé‡Œç¤¾",
      "é‚£ç‘ªå¤": "èšŠå­åª",
      "æ¡ƒæº": "é›…çˆ¾",
      "èŒ‚æ—": "å±¯ä»”"
    };

    window.addEventListener("load", () => {
      const obj = document.getElementById("kaoMap");
      const infoBox = document.getElementById("infoBox");
      const newName = document.getElementById("newName");
      const oldName = document.getElementById("oldName");

      obj.addEventListener("load", () => {
        const svgDoc = obj.contentDocument;
        const paths = svgDoc.querySelectorAll("path");

        paths.forEach((p) => {
          let dName = (p.querySelector("title") || {}).textContent || "";
          dName = dName.replace("å€","").trim();

          // ä¾ç¾¤çµ„è¨­å®šé¡è‰²
          let color = "#ccc";
          if (colorGroups.center.includes(dName)) color = colors.center[colorGroups.center.indexOf(dName) % colors.center.length];
          else if (colorGroups.east.includes(dName)) color = colors.east[colorGroups.east.indexOf(dName) % colors.east.length];
          else if (colorGroups.north.includes(dName)) color = colors.north[colorGroups.north.indexOf(dName) % colors.north.length];
          else if (colorGroups.mountain.includes(dName)) color = colors.mountain[colorGroups.mountain.indexOf(dName) % colors.mountain.length];
          p.style.fill = color;
          p.style.stroke = "#fff";
          p.style.strokeWidth = "1.2";

          // é»æ“Šäº‹ä»¶
          p.addEventListener("click", (e) => {
            const old = nameMap[dName] || "";
            newName.textContent = dName;
            oldName.textContent = old ? old : "â€”";
            infoBox.style.display = "block";
          });
        });
      });

      // é»åœ°åœ–ç©ºç™½è™•é—œé–‰
      document.body.addEventListener("click", (e) => {
        if (e.target.closest(".info-box")) return;
        document.getElementById("infoBox").style.display = "none";
      });
    });
  </script>
</body>
</html>
