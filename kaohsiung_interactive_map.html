<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>é«˜é›„å¸‚38å€æ–°èˆŠåœ°åäº’å‹•åœ°åœ– v6.13b</title>
<style>
html,body{margin:0;height:100%;font-family:"Noto Sans TC","Microsoft JhengHei",sans-serif;background:#f7f8fb;color:#0f172a;text-align:center}
h1{margin:10px 0 4px;font-size:1.5rem;font-weight:800}
.notice{margin:2px 0;color:#555;font-size:.95rem}
.groupbar{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;max-width:980px;margin:10px auto;padding:0 12px}
.groupbar button{border:0;border-radius:14px;padding:10px 6px;font-size:1rem;color:#fff;cursor:pointer;
box-shadow:0 4px 10px rgba(0,0,0,.18);transition:all .2s;position:relative;line-height:1.1}
@media(max-width:420px){.groupbar button{font-size:.95rem;padding:10px 4px}}
.groupbar button.is-on{outline:2px solid #fff;transform:translateY(-1px)}
.btn-core{background:linear-gradient(145deg,#6FA8DC,#9EC6F2)} .btn-east{background:linear-gradient(145deg,#93C47D,#B5D99F)}
.btn-north{background:linear-gradient(145deg,#F6B26B,#FFD79C)} .btn-mount{background:linear-gradient(145deg,#B4A7D6,#D2C4F2)}
.badge{position:absolute;top:-6px;right:-8px;border-radius:50%;min-width:22px;height:22px;padding:0 6px;
display:flex;align-items:center;justify-content:center;font-size:.78rem;font-weight:700;color:#333;box-shadow:0 2px 6px rgba(0,0,0,.25)}
main{max-width:980px;margin:0 auto;padding:0 12px 10px}
#mapbox{width:100%;height:calc(100vh - 230px);min-height:420px;position:relative;background:#fff;border-radius:14px;
border:1px solid #e5e7eb;box-shadow:0 8px 18px rgba(0,0,0,.08);overflow:hidden}
#mapContainer svg{width:100%;height:100%}
.dimmed{opacity:.15}
.strong-stroke{stroke:#1f2937;stroke-width:.9}
.light-stroke{stroke:#a0aec0;stroke-width:.6}
@keyframes glow{0%{filter:none}50%{filter:drop-shadow(0 0 12px #fff)}100%{filter:none}}
.glow{animation:glow 1.4s ease}
.popup{position:absolute;display:none;background:#fff;border-radius:12px;padding:10px;z-index:60;
border:1px solid rgba(0,0,0,.08);box-shadow:0 10px 24px rgba(0,0,0,.18);min-width:190px;max-width:min(300px,85%)}
.popup h3{margin:0 0 4px;font-size:1.05rem;font-weight:800}
.newP{color:#00796b;font-weight:800}.old{margin-top:2px}.oldP{color:#6a1b9a;font-weight:700}
.row{display:flex;gap:8px;margin-top:8px;justify-content:center;flex-wrap:wrap}
.btn{padding:6px 10px;border-radius:10px;border:0;color:#fff;cursor:pointer;box-shadow:0 3px 8px rgba(0,0,0,.22)}
.btn.play{background:linear-gradient(145deg,#64b5f6,#1565c0)}.btn.old{background:linear-gradient(145deg,#ffa27a,#e66a3a)}
footer{padding:12px 0}
footer a{display:inline-block;background:linear-gradient(145deg,#4CAF50,#2e7d32);color:#fff;
padding:8px 16px;border-radius:12px;text-decoration:none;box-shadow:0 3px 8px rgba(0,0,0,.22)}
</style>
</head>
<body>
<h1>é«˜é›„å¸‚38å€æ–°èˆŠåœ°åäº’å‹•åœ°åœ–</h1>
<p class="notice">ğŸ“± å»ºè­°ç›´å¼è§€çœ‹æ•ˆæœæœ€ä½³</p>
<p class="notice">ğŸ‘† é»è¡Œæ”¿å€çœ‹æ–°èˆŠåœ°åä¸¦æ’­æ”¾éŸ³æª”</p>

<div class="groupbar" id="groupbar">
<button class="btn-core is-on" data-group="core">å¸‚ä¸­å¿ƒ<span class="badge">11</span></button>
<button class="btn-east" data-group="east">å¸‚éƒŠ-æ±å€<span class="badge">7</span></button>
<button class="btn-north" data-group="north">å¸‚éƒŠ-åŒ—å€<span class="badge">11</span></button>
<button class="btn-mount" data-group="mountain">å±±å€<span class="badge">9</span></button>
</div>

<main>
<div id="mapbox">
  <div id="mapContainer">è¼‰å…¥åœ°åœ–ä¸­...</div>
  <div class="popup" id="popup">
    <h3 id="pop-new">â€”</h3>
    <div class="newP" id="pop-new-poj">â€”</div>
    <div class="old" id="pop-old">â€”</div>
    <div class="oldP" id="pop-old-poj">â€”</div>
    <div class="row">
      <button class="btn play" id="btn-new">æ’­æ”¾æ–°åœ°å</button>
      <button class="btn old" id="btn-old">æ’­æ”¾èˆŠåœ°å</button>
    </div>
  </div>
</div>
</main>
<footer><a href="https://tsong-su.github.io/iuhi/index.html">ğŸ  å›éŠæˆ²é¦–é </a></footer>

<script>
const COLORS={core:"#6FA8DC",east:"#93C47D",north:"#F6B26B",mountain:"#B4A7D6"};
const GROUPS={core:["æ¥ æ¢“","å·¦ç‡Ÿ","é¼“å±±","ä¸‰æ°‘","é¹½åŸ•","å‰é‡‘","æ–°èˆˆ","è‹“é›…","æ——æ´¥","å‰é®","å°æ¸¯"],
east:["å¤§æ¨¹","å¤§å¯®","æ—åœ’","å¤§ç¤¾","ä»æ­¦","é³¥æ¾","é³³å±±"],
north:["èŒ„è£","æ°¸å®‰","å½Œé™€","æ¢“å®˜","æ¹–å…§","è·¯ç«¹","å²¡å±±","æ©‹é ­","é˜¿è“®","ç”°å¯®","ç‡•å·¢"],
mountain:["å…§é–€","æ——å±±","æ‰æ—","ç¾æ¿ƒ","ç”²ä»™","å…­é¾œ","é‚£ç‘ªå¤","æ¡ƒæº","èŒ‚æ—"]};
const DATA={"é³³å±±":{old:"ä¸‹åŸ¤é ­",newPoj:"HÅng-suann",oldPoj:"Ä’-pi-thÃ¢u"}};
let svg, items=[], currentGroup="core";

fetch("map_assets/Blank_Kaohsiung_map.svg").then(r=>r.text()).then(txt=>{
  document.getElementById("mapContainer").innerHTML=txt;
  svg=document.querySelector("#mapContainer svg");
  svg.querySelectorAll("path,polygon,polyline").forEach(el=>{
    el.style.cursor="pointer";
    el.addEventListener("click",()=>el.classList.add("glow"));
  });
}).catch(e=>{
  document.getElementById("mapContainer").innerText="åœ°åœ–è¼‰å…¥å¤±æ•—ï¼š"+e;
});

document.querySelectorAll("#groupbar button").forEach(btn=>{
  btn.onclick=()=>{
    currentGroup=btn.dataset.group;
    document.querySelectorAll("#groupbar button").forEach(b=>b.classList.toggle("is-on",b===btn));
  };
});
</script>
</body>
</html>
