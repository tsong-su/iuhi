<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <meta charset="UTF-8">
  <title>è¯å°æ°´æœèªè©é…å°</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: "Microsoft JhengHei", sans-serif;
      background: #fdfcf5;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 10px 0 0 0;
      font-size: 28px;
      text-align: center;
    }
    .note {
      font-size: 16px;
      color: #666;
      margin-bottom: 10px;
      text-align: center;
    }
    .grid-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      width: 95%;
      max-width: 500px;
      margin-bottom: 20px;
    }
    .grid-item {
      background: #fff;
      border: 2px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s, border-color 0.3s;
    }
    .grid-item.matched {
      background: #b3e5fc; /* é…å°æˆåŠŸåº•è‰² */
      border-color: #0288d1;
      color: #000;
      cursor: default;
    }
    .buttons {
      margin: 15px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      padding: 10px 18px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #0288d1;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #0277bd;
    }
  </style>
</head>
<body>
  <h1>è¯å°æ°´æœèªè©é…å°</h1>
  <div class="note">ğŸ“± ç›´å¼è§€çœ‹æ•ˆæœæœ€ä½³</div>

  <div id="mandarinGrid" class="grid-container"></div>
  <div id="taiwaneseGrid" class="grid-container"></div>

  <div class="buttons">
    <button id="nextBtn">ç¬¬ä¸€å›</button>
  </div>

  <script>
    const rounds = [
      // ç¬¬ä¸€å› (åˆªæ‰ 15.æå­/æä»” â†’ å‰© 16)
      [
        ["1.è˜‹æœ", "è˜‹æœä»”"],
        ["2.é¦™è•‰", "èŠ­è•‰"],
        ["3.è¥¿ç“œ", "è¥¿ç“œ"],
        ["4.è‘¡è„", "è‘¡è„"],
        ["5.èŠ’æœ", "æª¨ä»”"],
        ["6.æœ¨ç“œ", "æœ¨ç“œ"],
        ["7.æ©˜å­", "æŸ‘ä»”"],
        ["8.æŸšå­", "æŸšä»”"],
        ["9.æ«»æ¡ƒ", "æ«»æ¡ƒä»”"],
        ["10.é³³æ¢¨", "æ—ºæ¢¨"],
        ["11.è‰è“", "è‰è“ä»”"],
        ["12.ç™¾é¦™æœ", "ç™¾é¦™æœ"],
        ["13.é¾çœ¼", "é¾çœ¼"],
        ["14.è”æ", "è”æ"],
        ["16.æ¥Šæ¡ƒ", "æ¥Šæ¡ƒ"],
        ["17.è“®éœ§", "è“®éœ§"]
      ],
      // ç¬¬äºŒå› (åˆªæ‰ 32.é»‘çç /çƒçœŸç  â†’ å‰© 16)
      [
        ["18.ç•ªèŒ„", "ç•ªèŒ„ä»”"],
        ["19.æª¸æª¬", "æª¸æª¬"],
        ["20.ç«é¾æœ", "ç«é¾æœ"],
        ["21.æŸ¿å­", "æŸ¿ä»”"],
        ["22.æ¤°å­", "æ¤°ä»”"],
        ["23.æ¥Šæ¢…", "æ¥Šæ¢…"],
        ["24.æ©„æ¬–", "æ¬–ä»”"],
        ["25.æ‡æ·", "æ‡æ·ä»”"],
        ["26.æ¡‘è‘š", "æ¡‘æ¤¹ä»”"],
        ["27.é‡‹è¿¦", "é‡‹è¿¦"],
        ["28.å±±ç«¹", "å±±ç«¹"],
        ["29.äººåƒæœ", "äººåƒæœ"],
        ["30.å“ˆå¯†ç“œ", "å“ˆå¯†ç“œ"],
        ["31.èœœæ£—", "èœœæ£—ä»”"],
        ["33.ç„¡èŠ±æœ", "ç„¡èŠ±æœ"],
        ["34.æ¤ªæŸ‘", "æ¤ªæŸ‘"]
      ]
    ];

    let currentRound = 0;
    let selectedMandarin = null;
    let selectedTaiwanese = null;
    let pairs = [];

    function loadRound(roundIndex) {
      const round = rounds[roundIndex];
      pairs = round.map(pair => ({ mandarin: pair[0], taiwanese: pair[1], matched: false }));

      const mandarinGrid = document.getElementById("mandarinGrid");
      const taiwaneseGrid = document.getElementById("taiwaneseGrid");

      mandarinGrid.innerHTML = "";
      taiwaneseGrid.innerHTML = "";

      let mandarinWords = pairs.map(p => p.mandarin).sort(() => Math.random() - 0.5);
      let taiwaneseWords = pairs.map(p => p.taiwanese).sort(() => Math.random() - 0.5);

      mandarinWords.forEach(word => {
        const div = document.createElement("div");
        div.className = "grid-item";
        div.textContent = word;
        div.onclick = () => selectMandarin(div, word);
        mandarinGrid.appendChild(div);
      });

      taiwaneseWords.forEach(word => {
        const div = document.createElement("div");
        div.className = "grid-item";
        div.textContent = word;
        div.onclick = () => selectTaiwanese(div, word);
        taiwaneseGrid.appendChild(div);
      });

      document.getElementById("nextBtn").textContent = roundIndex === 0 ? "ç¬¬ä¸€å›" : "ç¬¬äºŒå›";
    }

    function selectMandarin(div, word) {
      if (div.classList.contains("matched")) return;
      if (selectedMandarin) selectedMandarin.classList.remove("selected");
      selectedMandarin = div;
      div.classList.add("selected");
      checkMatch();
    }

    function selectTaiwanese(div, word) {
      if (div.classList.contains("matched")) return;
      if (selectedTaiwanese) selectedTaiwanese.classList.remove("selected");
      selectedTaiwanese = div;
      div.classList.add("selected");
      checkMatch();
    }

    function checkMatch() {
      if (selectedMandarin && selectedTaiwanese) {
        const mandarinWord = selectedMandarin.textContent;
        const taiwaneseWord = selectedTaiwanese.textContent;
        const pair = pairs.find(p => p.mandarin === mandarinWord && p.taiwanese === taiwaneseWord);

        if (pair) {
          selectedMandarin.classList.add("matched");
          selectedTaiwanese.classList.add("matched");
          pair.matched = true;
        }

        selectedMandarin.classList.remove("selected");
        selectedTaiwanese.classList.remove("selected");
        selectedMandarin = null;
        selectedTaiwanese = null;
      }
    }

    document.getElementById("nextBtn").addEventListener("click", () => {
      currentRound = (currentRound + 1) % rounds.length;
      loadRound(currentRound);
    });

    loadRound(currentRound);
  </script>
</body>
</html>
